"use strict";(()=>{var e={};e.id=74,e.ids=[74],e.modules={1185:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6795:(e,r,s)=>{s.r(r),s.d(r,{headerHooks:()=>v,originalPathname:()=>y,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>l,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>f});var i={};s.r(i),s.d(i,{POST:()=>POST});var t=s(884),o=s(6132),a=s(2828),n=s(5798);async function POST(e){try{let r=await e.json(),{token:s}=r,i=await a.Z.findOne({verifyToken:s});if(!i)return n.Z.json({status:!1,message:"Invalid Token!"});if(i.verifyTokenExpiry<Date.now())return n.Z.json({status:!1,message:"Token Expired!"});return i.isVerified=!0,i.verifyToken=void 0,i.verifyTokenExpiry=void 0,await i.save(),n.Z.json({status:!0,message:"Account Verified"})}catch(e){return n.Z.json({error:e.message},{status:500})}}let u=new t.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/users/verify/route",pathname:"/api/users/verify",filename:"route",bundlePath:"app/api/users/verify/route"},resolvedPagePath:"E:\\WebProjects\\online-tutor\\src\\app\\api\\users\\verify\\route.js",nextConfigOutput:"",userland:i}),{requestAsyncStorage:d,staticGenerationAsyncStorage:p,serverHooks:l,headerHooks:v,staticGenerationBailout:f}=u,y="/api/users/verify/route"},2828:(e,r,s)=>{s.d(r,{Z:()=>n});var i=s(1185),t=s.n(i);let o=new(t()).Schema({username:{type:String,required:[!0,"Please provide an username"]},email:{type:String,required:[!0,"Please provide a email"],unique:!0},password:{type:String,required:[!0,"Please provide a password"]},isVerified:{type:Boolean,default:!1},role:{type:Number,default:1},forgotPasswordToken:String,forgotPasswordTokenExpiry:Number,verifyToken:String,verifyTokenExpiry:Number}),a=t().models.users||t().model("users",o),n=a}};var r=require("../../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[126,107],()=>__webpack_exec__(6795));module.exports=s})();